require=function e(t,o,n){function c(i,a){if(!o[i]){if(!t[i]){var s="function"==typeof require&&require;if(!a&&s)return s(i,!0);if(r)return r(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var p=o[i]={exports:{}};t[i][0].call(p.exports,function(e){var o=t[i][1][e];return c(o||e)},p,p.exports,e,t,o,n)}return o[i].exports}for(var r="function"==typeof require&&require,i=0;i<n.length;i++)c(n[i]);return c}({CalculateBtn:[function(e,t,o){"use strict";cc._RF.push(t,"e6d6fie7fFOzpan5hKZb2Q0","CalculateBtn"),cc.Class({extends:cc.Component,properties:{scale:0,index:{default:0,type:cc.Integer},symbol:{default:0,type:cc.Integer},gameContainer:{default:null,type:cc.Node}},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(e){for(var t=e.target,o=t.parent.parent.children,n=0;n<o.length;n++)o[n].getChildByName("btn").runAction(cc.scaleTo(.1,.5,1));t.runAction(cc.scaleTo(.1,.45,.8))}),this.node.on(cc.Node.EventType.TOUCH_END,function(e){var t=this.index,o=this.symbol;console.log("index="+t+", symbol="+o);var n=this.gameContainer.getComponent("Game");switch(t){case 1:n.firstBtn=this.node;break;case 2:n.secondBtn=this.node;break;case 3:n.thirdBtn=this.node}this.gameContainer.getComponent("Game").calculate()}.bind(this))},start:function(){}}),cc._RF.pop()},{}],Calculate:[function(e,t,o){"use strict";cc._RF.push(t,"0d2dcYPktRAHLNU2hTJvhCS","Calculate"),cc.Class({extends:cc.Component,properties:{id:1,firstBtn:{default:null,type:cc.Node},secondBtn:{default:null,type:cc.Node},thirdBtn:{default:null,type:cc.Node}},onLoad:function(){},start:function(){},calculate:function(){this.node.getChildByName("")}}),cc._RF.pop()},{}],Game:[function(e,t,o){"use strict";cc._RF.push(t,"eab32XSc2ZAWJRYitl2iltc","Game"),cc.Class({extends:cc.Component,properties:{pokerValue:{default:[],type:[cc.Integer]},pokerType:{default:[],type:[cc.String]},pokers:{default:[],type:[cc.Object]},firstBtn:{default:null,type:cc.Node},secondBtn:{default:null,type:cc.Node},thirdBtn:{default:null,type:cc.Node},resultInfo:{default:null,type:cc.Label}},onLoad:function(){this.resultInfo.string="",this.pokerType=["clubs","diamonds","hearts","spades"],this.pokerValue=[1,2,3,4,5,6,7,8,9,10,11,12,13];for(var e=0;e<this.pokerType.length;e++)for(var t=0;t<this.pokerValue.length;t++){var o=this.pokerValue[t]+"-"+this.pokerType[e],n=this.pokerValue[t],c=new Object;c.key=o,c.value=n,this.pokers.push(c)}this.node.getChildByName("buttons").getChildByName("start_btn").getChildByName("button").on(cc.Node.EventType.TOUCH_START,function(e){e.target.runAction(cc.sequence(cc.scaleTo(.1,.4,.85),cc.scaleTo(.1,.5,1),cc.callFunc(function(){this.refreshPoker()},this)))},this)},start:function(){},refreshPoker:function(){var e=this.node.getChildByName("first_porker"),t=this.node.getChildByName("second_porker"),o=this.node.getChildByName("third_porker"),n=this.node.getChildByName("forth_porker"),c=this.getPoker();c&&(cc.loader.loadRes("game/"+c.key,cc.SpriteFrame,function(t,o){e.getComponent(cc.Sprite).spriteFrame=o}),e.getComponent("Porker").value=c.value,e.getComponent("Porker").key=c.key),(c=this.getPoker())&&(cc.loader.loadRes("game/"+c.key,cc.SpriteFrame,function(e,o){t.getComponent(cc.Sprite).spriteFrame=o}),t.getComponent("Porker").value=c.value,t.getComponent("Porker").key=c.key),(c=this.getPoker())&&(cc.loader.loadRes("game/"+c.key,cc.SpriteFrame,function(e,t){o.getComponent(cc.Sprite).spriteFrame=t}),o.getComponent("Porker").value=c.value,o.getComponent("Porker").key=c.key),(c=this.getPoker())&&(cc.loader.loadRes("game/"+c.key,cc.SpriteFrame,function(e,t){n.getComponent(cc.Sprite).spriteFrame=t}),n.getComponent("Porker").value=c.value,n.getComponent("Porker").key=c.key)},getPoker:function(){for(var e=[],t=0;t<this.pokers.length;t++)this.pokers[t]&&this.pokers[t].key&&this.pokers[t].value&&e.push(this.pokers[t]);if(this.pokers=e,!(this.pokers.length<=0)){var o=Math.floor(Math.random()*(this.pokers.length-1-0+1)+0);console.log("选中索引："+o),console.log(this.pokers);var n=this.pokers[o];return this.pokers.splice(o,1),n}},calculate:function(){console.log("进入结果计算");var e=this.node.getChildByName("cal_first_porker"),t=this.node.getChildByName("cal_second_porker"),o=this.node.getChildByName("cal_third_porker"),n=this.node.getChildByName("cal_forth_porker"),c=e.getComponent("Porker").value,r=t.getComponent("Porker").value,i=o.getComponent("Porker").value,a=n.getComponent("Porker").value;if(c=c||0,r=r||0,i=i||0,a=a||0,this.firstBtn&&this.secondBtn&&this.thirdBtn){console.log("开始计算结果");var s=this.firstBtn.getComponent("CalculateBtn").symbol,l=this.secondBtn.getComponent("CalculateBtn").symbol,p=this.thirdBtn.getComponent("CalculateBtn").symbol,u=this.calculateResult(c,r,s),d=this.calculateResult(u,i,l),h=this.calculateResult(d,a,p);if(console.log("计算结果为："+h),24==h)return this.showInfo("过关"),void this.refreshPoker();if(u=this.calculateResult(c,r,s),d=this.calculateResult(i,a,p),24==(h=this.calculateResult(u,d,l)))return this.showInfo("过关"),void this.refreshPoker()}},calculateResult:function(e,t,o){var n=0;switch(o){case 1:n=e+t;break;case 2:n=e-t;break;case 3:n=e*t;break;case 4:n=e/t}return n},showInfo:function(e){console.log("通知信息为："+e),this.resultInfo.string=e,this.resultInfo.scheduleOnce(function(){this.string=""},2)}}),cc._RF.pop()},{}],Menu:[function(e,t,o){"use strict";cc._RF.push(t,"ab919TBuFpObqk93T8dX0jj","Menu"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.director.preloadScene("Game",function(){console.log("预加载游戏场景")});var e=this.node.getChildByName("quickStartBtn");e&&(e.on(cc.Node.EventType.TOUCH_START,function(e){console.log("按下快速开始按钮"),e.target.runAction(cc.scaleTo(.1,.85))}),e.on(cc.Node.EventType.TOUCH_END,function(e){console.log("按下快速开始按钮结束");var t=e.target,o=cc.sequence(cc.scaleTo(.1,1),cc.callFunc(function(){console.log("开始执行动作回调"),cc.director.loadScene("Game")}));t.runAction(o)}))}}),cc._RF.pop()},{}],Porker:[function(e,t,o){"use strict";cc._RF.push(t,"a0895cSgHNEw7bVRbnN04/t","Porker"),cc.Class({extends:cc.Component,properties:{value:{default:1,type:cc.Integer},key:{default:"",type:cc.String},positionX:{default:0,type:cc.Float},positionY:{default:0,type:cc.Float},originalX:{default:0,type:cc.Float},originalY:{default:0,type:cc.Float},zIndex:{default:0,type:cc.Integer}},onLoad:function(){this.node.zIndex=0,this.node.on(cc.Node.EventType.TOUCH_START,function(e){console.log("获取到的位置为：x="+e.getLocation().x+", y="+e.getLocation().y),this.originalX=this.node.position.x,this.originalY=this.node.position.y,this.node.zIndex=100},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){var t=e.getLocation().x-this.node.parent.position.x,o=e.getLocation().y-this.node.parent.position.y;this.node.position=cc.v2(t,o)},this),this.node.on(cc.Node.EventType.TOUCH_END,function(e){this.node.zIndex=0;var t=this.node.parent,o=t.getChildByName("cal_first_porker"),n=[o,t.getChildByName("cal_second_porker"),t.getChildByName("cal_third_porker"),t.getChildByName("cal_forth_porker")];console.log("移动结束"),console.log(this.node.getBoundingBoxToWorld()),console.log(o.getBoundingBoxToWorld());for(var c=0;c<n.length;c++){var r=n[c];this.changePoker(r)}this.node.position=cc.v2(this.positionX,this.positionY),this.node.parent.getComponent("Game").calculate()},this)},start:function(){},changePoker:function(e){var t=this.node.parent,o=[t.getChildByName("cal_first_porker"),t.getChildByName("cal_second_porker"),t.getChildByName("cal_third_porker"),t.getChildByName("cal_forth_porker")];if(cc.Intersection.rectRect(this.node.getBoundingBoxToWorld(),e.getBoundingBoxToWorld())){for(var n=null,c=0;c<o.length;c++){var r=o[c],i=r.getComponent("Porker").key;i&&i==this.key&&(n=r)}console.log(n);var a=this.key,s=this.value;e.getComponent("Porker").key&&n&&(cc.loader.loadRes("game/"+e.getComponent("Porker").key,cc.SpriteFrame,function(e,t){n.getComponent(cc.Sprite).spriteFrame=t}),n.getComponent("Porker").key=e.getComponent("Porker").key,n.getComponent("Porker").value=e.getComponent("Porker").value),cc.loader.loadRes("game/"+a,cc.SpriteFrame,function(t,o){e.getComponent(cc.Sprite).spriteFrame=o}),e.getComponent("Porker").key=a,e.getComponent("Porker").value=s}}}),cc._RF.pop()},{}]},{},["Calculate","CalculateBtn","Game","Menu","Porker"]);